# دليل التشغيل والصيانة لنظام إدارة الموارد البشرية

## الإعداد الأولي
- ضبط `ApiConfig.baseUrl` في `lib/core/config/api_config.dart` للإشارة إلى خادم واجهة الـ API المتصل بـ SQL Server.
- التأكد من توفر خادم API آمن (HTTPS) مع مصادقة JWT وطبقة وصول بيانات (DAL) إلى SQL Server.
- تهيئة أدوار المستخدمين والمصادقة من خلال نقاط النهاية `/auth/login` و`/auth/me`.

## البنية المعمارية
- واجهة المستخدم Flutter.
- إدارة الحالة عبر `provider` في `AppProvider`.
- الوصول للبيانات عبر `ApiService` مع `Dio` وإعادة المحاولة والتعامل مع الأخطاء.
- مستودعات تخصصية لكل نطاق (مثل `EmployeesRepository`).

## التشغيل
- تسجيل الدخول من شاشة `LoginScreen`، ثم الانتقال إلى لوحة التحكم.
- تحميل بيانات الموظفين من الخادم باستخدام `AppProvider.loadEmployeesRemote`.
- إدارة الموظفين/الحضور/الإجازات/الرواتب عبر الشاشات المخصصة.

## الصيانة
- تحديث نقاط نهاية الـ API دون تغيير واجهات المستودعات قدر الإمكان.
- مراقبة السجلات والأخطاء على الخادم، وتفعيل النسخ الاحتياطي لقاعدة بيانات SQL Server بشكل دوري.
- تدوير رموز الوصول (Tokens) وإدارة صلاحيات الأدوار.

## الأمان
- استخدام HTTPS دائماً.
- مصادقة JWT وتحديد صلاحيات RBAC.
- عدم تسجيل كلمات المرور أو الرموز بشكل صريح.

## الاختبارات
- تشغيل اختبارات الوحدة عبر `flutter test` للتحقق من تحويل الاستجابات إلى نماذج صحيحة.

## التكامل المحاسبي
- نشر موصلات إلى الأنظمة المحاسبية (QuickBooks/Xero) عبر واجهة الـ API.
- مواءمة مخرجات الرواتب مع قيود اليومية وإرسالها عبر نقاط نهاية آمنة.

## استكشاف الأخطاء وإصلاحها
- تحقق من `baseUrl` وطبقة الشبكة في `ApiService`.
- تأكد من صلاحيات المستخدم والأدوار.